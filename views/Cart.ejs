<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Case that reflects your memories">
    <meta name="description" content="">
    <title>Cart</title>
    <link rel="stylesheet" href="css/nicepage.css" media="screen">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/Cart.css" media="screen">
    <script class="u-script" type="text/javascript" src="./../jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="./../nicepage.js" defer=""></script>
    <meta name="Phone case customised" content="phone case customised , phone case , case , phone , android , iphone , iphone case, iphone cases, android case , android cases, phones cases">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Lato:100,100i,300,300i,400,400i,700,700i,900,900i">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Cart">
    <meta property="og:type" content="website">
    <meta data-intl-tel-input-cdn-path="intlTelInput/">
    <body class="u-body u-xl-mode" data-lang="en">
      <style>
          .navbar {
              background-color: #f8f9fa; /* Light gray background */
              border-bottom: 1px solid #ddd; /* Gray border bottom */
              box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
          }
          .navbar-brand {
              font-size: 1.5rem; /* Larger font size for brand */
              color: #333; /* Dark text color */
              font-weight: bold; /* Bold text */
          }
          .navbar-nav .nav-link {
              font-size: 1.2rem; /* Slightly larger font size for links */
              color: #333; /* Dark text color */
              padding: 0.5rem 1rem; /* Padding around links */
              transition: all 0.3s ease; /* Smooth transition */
              letter-spacing: 0.05rem; /* Slight letter spacing for readability */
          }
          .navbar-nav .nav-link:hover {
              color: #007bff; /* Change color on hover to primary */
              background-color: #e9ecef; /* Light gray background on hover */
              border-radius: 4px; /* Rounded corners on hover */
          }
          .navbar-toggler {
              border-color: #403e3e; /* Dark color for toggler border */
          }
          .navbar-toggler-icon {
              background-color: #333; /* Dark color for toggler icon */
              color: #fff; /* White color for icon */
          }
          @media (max-width: 992px) {
              .navbar-nav {
                  flex-direction: row; /* Display items horizontally */
              }
              .navbar-nav .nav-link {
                  text-align: center; /* Center text on smaller screens */
                  padding: 1rem; /* More padding for better touch support */
                  font-size: 2.5vw; /* Adjust font size for smaller screens */
              }
          }
      </style>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <div class="navbar-collapse collapse show" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="phonecases">Phone cases</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="customcover">Custom cover</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link  active" href="#">Go to cart</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="contact">Contact us</a>
                      </li>
                    </ul>
                </div>
            </div>
        </nav>

<section class="skrollable skrollable-between u-align-center u-clearfix u-image u-shading u-section-1" src="" id="carousel_74d8" data-image-width="1280" data-image-height="854">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h1 class="u-text u-text-default u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1000">Case that reflects your memories</h1>
        <p class="u-large-text u-text u-text-variant u-text-2" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="250">We know, your heart is broken , now save your phone from geting into peices</p>
        <div class="u-clearfix u-layout-custom-sm u-layout-custom-xs u-layout-wrap u-layout-wrap-1">
          <div class="u-layout">
            <div class="u-layout-row">
              <div class="u-align-right u-container-align-right-sm u-container-style u-layout-cell u-left-cell u-size-30 u-layout-cell-1" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="250">
                <div class="u-container-layout u-valign-top-lg u-valign-top-md u-valign-top-sm u-valign-top-xl u-container-layout-1">
                  <a href="https://wa.me/00918434106606" class="u-align-right-sm u-align-right-xs u-border-2 u-border-palette-2-base u-btn u-btn-round u-button-style u-palette-2-base u-radius-50 u-btn-1">Call Us</a>
                </div>
              </div>
              <div class="u-align-left u-container-align-left-sm u-container-style u-layout-cell u-right-cell u-size-30 u-layout-cell-2" data-animation-name="customAnimationIn" data-animation-duration="1500" data-animation-delay="250">
                <div class="u-container-layout u-valign-top-lg u-valign-top-md u-valign-top-sm u-valign-top-xl u-container-layout-2">
                  <a href="/customcover" class="u-active-white u-align-left-sm u-align-left-xs u-border-2 u-border-active-white u-border-hover-white u-border-white u-btn u-btn-round u-button-style u-hover-white u-none u-radius-50 u-text-active-black u-text-hover-black u-btn-2">customise your phone cover</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
<section class="h-100" style="background-color: #eee;">
  <div class="container h-100 py-5">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-10">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h1 class="fw-normal mb-0 text-black"><b>Your Shopping Cart</b></h1>
        </div>
      </div>
    </div>
  </div>
</section>

<div id="cartItemsContainer"></div>

<div id="cartSummary" class="container h-100 py-5">
  <div class="row d-flex justify-content-between align-items-center h-100">
    <div class="col-md-4">
      <h3>Total: <span id="totalAmount">RS. 0</span></h3>
    </div>
    <div class="col-md-4 text-end">
      <a id="proceedToPayButton" class="btn btn-primary" href="/cart/pay" style="display: none;">Proceed to Pay</a>
    </div>
  </div>
</div>

<section class="h-100" style="background-color: #f9f9f9;">
  <div class="container h-100 py-5">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-10">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h1 class="fw-normal mb-0 text-black"><b>Your Wishlist</b></h1>
        </div>
      </div>
    </div>
  </div>
</section>

<div id="wishlistItemsContainer"></div>




<script>
function displayCartItems() {
  const cartItemsContainer = document.getElementById('cartItemsContainer');
  const cartSummary = document.getElementById('totalAmount');
  const proceedToPayButton = document.getElementById('proceedToPayButton'); // Get the button element
  const cartItems = JSON.parse(localStorage.getItem('cartIT')) || [];

  if (cartItems.length === 0) {
    cartItemsContainer.innerHTML = '<h3 class="text-center">Currently, your Shopping Cart is empty.</h3>';
    cartSummary.textContent = 'RS. 0';
    proceedToPayButton.style.display = 'none'; // Hide the button when the cart is empty
    return;
  }

  cartItemsContainer.innerHTML = '';
  let total = 0;

  cartItems.forEach(item => {
    const prices = {
      'softcase': 199,
      'hardcase': 250,
      'metalcase': 300,
      'glasscase': 350
    };

    item.price = prices[item.case_material] || 0;
    const quantity = item.quantity || 1; // Default to 1 if no quantity is set

    const cartItemElement = document.createElement('div');
    cartItemElement.classList.add('card', 'rounded-3', 'mb-4');
    cartItemElement.innerHTML = `
      <div class="card-body p-4">
        <div class="row d-flex justify-content-between align-items-center">
          <div class="col-md-2 col-lg-2 col-xl-2">
            <img src="/pic/${item.imageurl}" class="img-fluid rounded-3" alt="${item.imagename}">
          </div>
          <div class="col-md-3 col-lg-3 col-xl-3">
            <p class="lead fw-normal mb-2">${item.imagename}</p>
            <p><span class="text-muted">Case Type: </span>${item.case_material}</p>
            <p><span class="text-muted">Brand: </span>${item.phonebrand}</p>
            <p><span class="text-muted">Model: </span>${item.phonemodel}</p>
          </div>
          <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
            <input min="1" name="quantity" value="${quantity}" type="number" class="form-control form-control-sm" id="quantity-${item.imagename}" data-price="${item.price}" oninput="updatePrice('${item.imagename}', this.value)" />
          </div>
          <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1">
            <h5 class="mb-0" id="price-${item.imagename}">RS. ${item.price * quantity}</h5>
          </div>
          <div class="col-md-1 col-lg-1 col-xl-1 text-end">
            <i class="fas fa-trash fa-lg text-danger" onclick="removeCartItem('${item.imagename}')"></i>
            <i class="fas fa-heart fa-lg text-danger ms-2" onclick="addToWishlist('${item.imagename}')"></i>
          </div>
        </div>
      </div>
    `;

    cartItemsContainer.appendChild(cartItemElement);
    total += item.price * quantity;
  });

  cartSummary.textContent = `RS. ${total}`;
  proceedToPayButton.style.display = 'block'; // Show the button when there are items in the cart
}


function displayWishlistItems() {
  const wishlistItemsContainer = document.getElementById('wishlistItemsContainer');
  const wishlistItems = JSON.parse(localStorage.getItem('wishlist')) || [];

  if (wishlistItems.length === 0) {
    wishlistItemsContainer.innerHTML = '<h3 class="text-center">Your Wishlist is empty.</h3>';
    return;
  }

  wishlistItemsContainer.innerHTML = '';

  wishlistItems.forEach(item => {
    const wishlistItemElement = document.createElement('div');
    wishlistItemElement.classList.add('card', 'rounded-3', 'mb-4');
    wishlistItemElement.innerHTML = `
      <div class="card-body p-4">
        <div class="row d-flex justify-content-between align-items-center">
          <div class="col-md-2 col-lg-2 col-xl-2">
            <img src="/pic/${item.imageurl}" class="img-fluid rounded-3" alt="${item.imagename}">
          </div>
          <div class="col-md-3 col-lg-3 col-xl-3">
            <p class="lead fw-normal mb-2">${item.imagename}</p>
            <p><span class="text-muted">Case Type: </span>${item.case_material}</p>
            <p><span class="text-muted">Brand: </span>${item.phonebrand}</p>
            <p><span class="text-muted">Model: </span>${item.phonemodel}</p>
          </div>
          <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
            <button class="btn btn-primary" onclick="moveToCart('${item.imagename}')">Move to Cart</button>
          </div>
          <div class="col-md-1 col-lg-1 col-xl-1 text-end">
            <i class="fas fa-trash fa-lg text-danger" onclick="removeFromWishlist('${item.imagename}')"></i>
          </div>
        </div>
      </div>
    `;

    wishlistItemsContainer.appendChild(wishlistItemElement);
  });
}

function updatePrice(itemName, quantity) {
  const cartItems = JSON.parse(localStorage.getItem('cartIT')) || [];
  const priceElement = document.getElementById(`price-${itemName}`);
  const quantityInput = document.getElementById(`quantity-${itemName}`);
  const itemPrice = quantityInput.getAttribute('data-price');
  const totalPrice = itemPrice * quantity;

  priceElement.textContent = `RS. ${totalPrice}`;

  // Update the quantity in the cart item and localStorage
  const item = cartItems.find(item => item.imagename === itemName);
  if (item) {
    item.quantity = quantity;
    localStorage.setItem('cartIT', JSON.stringify(cartItems));
  }

  // Recalculate and update the total cart amount
  displayCartItems();
}

function removeCartItem(itemName) {
  let cartItems = JSON.parse(localStorage.getItem('cartIT')) || [];
  cartItems = cartItems.filter(item => item.imagename !== itemName);
  localStorage.setItem('cartIT', JSON.stringify(cartItems));
  displayCartItems();
}

function addToWishlist(itemName) {
  let wishlistItems = JSON.parse(localStorage.getItem('wishlist')) || [];
  let cartItems = JSON.parse(localStorage.getItem('cartIT')) || [];

  if (wishlistItems.some(item => item.imagename === itemName)) return;

  const itemToAdd = cartItems.find(item => item.imagename === itemName);
  if (itemToAdd) {
    wishlistItems.push(itemToAdd);
    cartItems = cartItems.filter(item => item.imagename !== itemName);
    localStorage.setItem('wishlist', JSON.stringify(wishlistItems));
    localStorage.setItem('cartIT', JSON.stringify(cartItems));
  }

  displayCartItems();
  displayWishlistItems();
}

function removeFromWishlist(itemName) {
  let wishlistItems = JSON.parse(localStorage.getItem('wishlist')) || [];
  wishlistItems = wishlistItems.filter(item => item.imagename !== itemName);
  localStorage.setItem('wishlist', JSON.stringify(wishlistItems));
  displayWishlistItems();
}

function moveToCart(itemName) {
  let wishlistItems = JSON.parse(localStorage.getItem('wishlist')) || [];
  let cartItems = JSON.parse(localStorage.getItem('cartIT')) || [];

  if (cartItems.some(item => item.imagename === itemName)) return;

  const itemToAdd = wishlistItems.find(item => item.imagename === itemName);
  if (itemToAdd) {
    cartItems.push(itemToAdd);
    wishlistItems = wishlistItems.filter(item => item.imagename !== itemName);
    localStorage.setItem('wishlist', JSON.stringify(wishlistItems));
    localStorage.setItem('cartIT', JSON.stringify(cartItems));
  }

  displayCartItems();
  displayWishlistItems();
}
window.onload = () => {
  displayCartItems();
  displayWishlistItems();
};
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-b7f2">
  <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
    <p class="u-small-text u-text u-text-variant u-text-1">Website by Earthling Aid Tech</p>
  </div>
</footer>

</body>
</html>